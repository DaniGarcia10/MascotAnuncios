<div *ngFor="let anuncio of anuncios" class="card mb-4 shadow-sm">
  <a [routerLink]="['/anuncio', anuncio.id]" class="text-decoration-none text-dark">
  <div class="row g-0">
    <!-- Parte izquierda: Información del anuncio -->
    <div class="col-md-8">
      <div class="row g-0 align-items-center">
        <!-- Imagen del anuncio -->
        <div class="col-md-4">
          <img *ngIf="anuncio['id_imagenes'] && anuncio['id_imagenes'].length > 0" 
               [src]="anuncio['id_imagenes'][0]" 
               class="img-fluid rounded-start w-100 object-fit-cover" 
               alt="Imagen del anuncio" 
               style="height: 100%; max-height: 250px;">
          <div *ngIf="anuncio['id_imagenes'].length > 1" class="mt-2 text-center">
            <small class="text-muted">+{{ anuncio['id_imagenes'].length - 1 }} imágenes más</small>
          </div>
        </div>

        <!-- Datos del anuncio -->
        <div class="col-md-8">
          <div class="card-body">
            <p class="card-text">
              <i class="bi bi-clock me-1"></i>{{ calcularTiempoTranscurrido(anuncio.fecha_publicacion) }}
            </p>
            <h5 class="card-title text-primary fw-bold">{{ anuncio.titulo }} </h5>
            <p class="card-text">
              <strong>
              {{ precioMinimo && precioMaximo ? precioMinimo + '€ - ' + precioMaximo + '€' : 'No disponible' }}</strong>
            </p>
            <p class="card-text">{{ anuncio.raza }} | {{ anuncio.edad }} | {{ anuncio.ubicacion }}</p>
            <p class="card-text">{{ anuncio.descripcion }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Parte derecha: Información del padre y la madre -->
    <div class="col-md-4 d-flex flex-row justify-content-between align-items-stretch">
      <!-- Card del padre -->
      <div class="card mb-3 position-relative d-flex flex-column" style="width: 48%; height: 250px;">
        <h6 class="card-title text-primary fw-bold position-absolute top-0 start-0 bg-light px-2 py-1">
          Padre
        </h6>
        <img *ngIf="padresImagenes['padre']" 
             [src]="padresImagenes['padre']" 
             alt="Imagen del padre" 
             class="img-fluid w-100 h-100" 
             style="object-fit: cover;">
      </div>

      <!-- Card de la madre -->
      <div class="card position-relative d-flex flex-column" style="width: 48%; height: 250px;">
        <h6 class="card-title text-primary fw-bold position-absolute top-0 start-0 bg-light px-2 py-1">
          Madre
        </h6>
        <img *ngIf="padresImagenes['madre']" 
             [src]="padresImagenes['madre']" 
             alt="Imagen de la madre" 
             class="img-fluid w-100 h-100" 
             style="object-fit: cover;">
      </div>
    </div>
  </div>

  <!-- Footer de la card -->
  <div class="card-footer bg-light text-muted d-flex align-items-center">
    <div class="me-3">
      <img *ngIf="criaderoData?.foto_perfil" 
           [src]="criaderoData?.foto_perfil" 
           alt="Foto del criadero" 
           class="border" 
           style="width: 50px; height: 50px; object-fit: cover;">
    </div>
    <div>
      <small><strong>Criadero:</strong> {{ criaderoData?.nombre }}</small><br>
      <small><strong>Nucleo zoologico:</strong> {{ criaderoData?.nucleo_zoologico }}</small>
    </div>
  </div>
</a>
</div>