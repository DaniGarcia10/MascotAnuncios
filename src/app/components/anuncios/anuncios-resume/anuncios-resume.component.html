<div class="card mb-4 shadow-sm">
  <a [routerLink]="['/anuncios', anuncio.id]" class="text-decoration-none text-dark">
    <div class="row g-0">
      <div class="col-md-4 position-relative">
        <img *ngIf="anuncio.imagenes?.length" [src]="anuncio.imagenes[0]"
          class="img-fluid rounded-start w-100 object-fit-cover" alt="Imagen del anuncio"
          style="height: 100%; max-height: 250px; object-fit: cover;">
        <div *ngIf="anuncio.imagenes?.length > 1" class="badge-imagenes">
          +{{ anuncio.imagenes.length - 1 }} imágenes más
        </div>
      </div>

      <div class="col-md-8">
        <div class="card-body">
          <p class="card-text">
            <i class="bi bi-clock me-1"></i>{{ calcularTiempoTranscurrido(anuncio.fecha_publicacion) }}
          </p>
          <h5 class="card-title fw-bold">{{ anuncio.titulo }}</h5>
          <p class="card-text">
            <strong>
              {{ precioMinimo && precioMaximo ? precioMinimo + '€ - ' + precioMaximo + '€' : anuncio.precio + '€' }}
            </strong>
          </p>
          <span class="badge bg-secondary">{{ anuncio.raza }}</span>
          <p class="card-text">{{ anuncio.descripcion }}</p>
          <ul class="list-unstyled mb-0 small">
            <li><i class="bi bi-cake"></i> {{ anuncio.edad }}</li>
            <li><i class="bi bi-geo-alt"></i> {{ anuncio.ubicacion }}</li>
          </ul> 
        </div>
      </div>
    </div>

    <div class="card-footer bg-light text-muted d-flex align-items-center">
      <div class="me-3">
        <img *ngIf="imagenUrlCriadero" [src]="imagenUrlCriadero" alt="Foto del criadero" class="border"
          style="width: 50px; height: 50px; object-fit: cover;">
      </div>
      <div>
        <small><strong>Criadero:</strong> {{ criaderoData?.nombre }}</small><br>
        <small><strong>Núcleo zoológico:</strong> {{ criaderoData?.nucleo_zoologico }}</small>
      </div>
    </div>
  </a>
</div>